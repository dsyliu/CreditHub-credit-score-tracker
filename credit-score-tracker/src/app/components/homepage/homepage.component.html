<div class="homepage-container">
  <div class="header">
    <h1>Credit Score Dashboard</h1>
    <div class="charts-container">
      <div class="chart-section">
        <highcharts-chart
          [Highcharts]="Highcharts"
          [options]="creditScoreChartOptions"
          style="width: 100%; height: 400px; display: block;"
          [update]="true"
          [oneToOne]="true">
        </highcharts-chart>
      </div>
    </div>
  </div>

  <div class="main-content">
    <h2 class="section-label">What Cause Your Score to Change</h2>
    <div class="score-categories">
      <div class="category-card" *ngFor="let factor of scoreIngredients" (click)="navigateToDetail(factor.category)">
        <div class="category-icon">
          <ng-container [ngSwitch]="factor.category">
            <span *ngSwitchCase="'payment-history'">ðŸ’³</span>
            <span *ngSwitchCase="'debt-amount'">ðŸ’°</span>
            <span *ngSwitchCase="'credit-history'">ðŸ“…</span>
            <span *ngSwitchCase="'new-credit'">ðŸ†•</span>
            <span *ngSwitchCase="'credit-mix'">ðŸ”„</span>
          </ng-container>
        </div>
        <div class="category-content">
          <div class="category-header">
            <h3>{{ factor.title }}</h3>
            <div class="status-badge" [ngClass]="'status-' + factor.status">{{ factor.status | titlecase }}</div>
          </div>
          <p>{{ factor.description }}</p>
        </div>
      </div>
    </div>

    <section class="recent-activity">
      <h2>Recent Activity</h2>
      <div class="activity-list">
        <div class="activity-item">
          <div class="activity-icon">âœ…</div>
          <div class="activity-details">
            <h4>Payment Received</h4>
            <p>Credit Card Payment - $500</p>
            <span class="activity-date">2 days ago</span>
          </div>
        </div>
        <div class="activity-item">
          <div class="activity-icon">ðŸ“ˆ</div>
          <div class="activity-details">
            <h4>Score Update</h4>
            <p>Credit Score increased by 10 points</p>
            <span class="activity-date">1 week ago</span>
          </div>
        </div>
      </div>
    </section>
  </div>

  <section class="saved-preferences" *ngIf="savedPreferences.length > 0">
    <h2>What Matter the Most to You (Debug Only)</h2>
    <div class="preferences-list">
      <div class="preference-item" *ngFor="let preference of savedPreferences">
        <div class="preference-icon">ðŸŽ¯</div>
        <div class="preference-text">{{ preference.label }}</div>
      </div>
    </div>
  </section>

  <app-preferences-popup
    *ngIf="showPreferencesPopup"
    (close)="onPreferencesClose()">
  </app-preferences-popup>
</div>
